# ============================================
# AI PROVIDER CONFIGURATION
# ============================================
# üî• RECOMMENDED: Use multi-model strategy for best results
# Choose your AI provider: openai, anthropic, multi, local
# If not set, will auto-detect based on available API keys
AI_PROVIDER=multi

# ============================================
# ANTHROPIC CLAUDE CONFIGURATION (RECOMMENDED) üèÜ
# ============================================
# Claude models excel at financial analysis and complex reasoning
# Get your API key from: https://console.anthropic.com/account/keys
# 
# üîê SECURITY WARNING: 
# - NEVER commit your actual API key to Git
# - Keep this .env file in .gitignore
# - Use different keys for development and production
# 
# Claude 3 Model Options:
# - claude-3-opus-20240229: Best quality, deep analysis ($15 input, $75 output per 1M tokens)
# - claude-3-5-sonnet-20240620: Best balance, recommended ($3 input, $15 output per 1M tokens) ‚≠ê
# - claude-3-haiku-20240307: Fast and economical ($0.25 input, $1.25 output per 1M tokens)
#
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-5-sonnet-20240620  # Recommended for production
ANTHROPIC_MODEL_OPUS=claude-3-opus-20240229  # For deep analysis
ANTHROPIC_MODEL_SONNET=claude-3-5-sonnet-20240620  # For standard analysis

# ============================================
# OPENAI CONFIGURATION
# ============================================
# Get your API key from: https://platform.openai.com/api-keys
# 
# Cost Guide (as of 2024):
# - gpt-4o: ~$2.50 input, $10 output per 1M tokens - Multimodal, fast
# - gpt-4o-mini: ~$0.15 input, $0.60 output per 1M tokens - Economical ‚≠ê
# - gpt-4-turbo: ~$10 input, $30 output per 1M tokens - High quality
# - gpt-3.5-turbo: ~$0.50 input, $1.50 output per 1M tokens - Basic
#
# Typical usage: ~500-2000 tokens per analysis
#
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini  # Options: gpt-4, gpt-3.5-turbo, gpt-4-turbo, gpt-4o-mini, gpt-4o
OPENAI_MODEL_ADVANCED=gpt-4o  # For advanced features (multimodal)
OPENAI_MODEL_STANDARD=gpt-4o-mini  # For standard queries

# Local Model Configuration (Ollama, etc.)
# Requires Ollama running locally: https://ollama.ai
LOCAL_MODEL=llama2  # Options: llama2, mistral, codellama, etc.
LOCAL_API_URL=http://localhost:11434

# AI Performance Settings
AI_TEMPERATURE=0.7  # Creativity level (0.0-1.0)
AI_MAX_TOKENS=2000  # Maximum response length
AI_TIMEOUT=30  # Request timeout in seconds

# Multi-Model Strategy (for AI_PROVIDER=multi)
AI_AUTO_SELECT=true  # Automatically select best model for each task
AI_QUALITY_MODE=true  # Prefer quality over cost
AI_BUDGET_MODE=false  # Prefer cost over quality (overrides quality mode)

# Cost Management
AI_DAILY_BUDGET=50.00  # Maximum spend per day (USD)
AI_ALERT_THRESHOLD=40.00  # Alert when reaching this amount (USD)
AI_COST_TRACKING=true  # Track API costs

# Enable/Disable AI Features
USE_AI_PREDICTIONS=true  # Use AI for price predictions
USE_AI_ANALYSIS=true     # Use AI for market analysis
USE_AI_CHAT=true         # Enable AI chat interface
USE_AI_NOTIFICATIONS=true  # AI-powered notifications

# ============================================
# MULTIPLE API KEYS (OPTIONAL)
# ============================================
# If you have different OpenAI API keys for different services,
# you can specify them here. This is useful for:
# - Separate billing/tracking per service
# - Different rate limits per service
# - Development vs production keys
#
# If not specified, OPENAI_API_KEY will be used for all services
#
# OPENAI_API_KEY_MARKET=sk-proj-...     # For market analysis
# OPENAI_API_KEY_CRYPTO=sk-proj-...     # For crypto scanning
# OPENAI_API_KEY_WHALE=sk-proj-...      # For whale watching
# OPENAI_API_KEY_SITE=sk-proj-...       # For site analysis
# OPENAI_API_KEY_SUPERVISOR=sk-proj-... # For supervisor tasks
# OPENAI_API_KEY_COORDINATOR=sk-proj-...# For coordination tasks

# ============================================
# MULTI-AGENT SYSTEM CONFIGURATION (EU)
# ============================================
# API keys for specialized agents

# CoinGecko API (Free tier available)
# Get your key from: https://www.coingecko.com/en/api
COINGECKO_API_KEY=your_coingecko_api_key_here

# Alpha Vantage API (Free tier: 500 requests/day)
# Get your key from: https://www.alphavantage.co/support/#api-key
ALPHAVANTAGE_API_KEY=your_alphavantage_api_key_here

# WhaleAlert API (Free tier: 1000 requests/day)
# Get your key from: https://whale-alert.io/
WHALEALERT_API_KEY=your_whalealert_api_key_here

# NewsCatcher API (Trial available)
# Get your key from: https://www.newscatcherapi.com/
NEWS_CATCHER_API_KEY=your_newscatcher_api_key_here

# Supervisor Configuration
API_BUDGET=200  # Maximum API calls per session

# ‚òÅÔ∏è Cloud Storage Configuration
# Copy to .env and configure your cloud provider

# ============================================
# CLOUD PROVIDER SELECTION
# ============================================
# Options: local, aws, gcp, azure
CLOUD_PROVIDER=aws

# ============================================
# GENERAL SETTINGS
# ============================================
# Enable/disable compression (recommended: true)
CLOUD_COMPRESS=true

# Enable/disable automatic cloud sync
CLOUD_AUTO_SYNC=true

# Sync interval in seconds (default: 3600 = 1 hour)
CLOUD_SYNC_INTERVAL=3600

# ============================================
# AWS S3 CONFIGURATION
# ============================================
# Set CLOUD_PROVIDER=aws to use AWS S3
# Cost: ~$0.023/GB/month + transfer fees

AWS_S3_BUCKET=ai-backups-signaltrust-prod
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=YOUR_ACCESS_KEY_HERE
AWS_SECRET_ACCESS_KEY=YOUR_SECRET_KEY_HERE

# Alternative: Use IAM role (no keys needed if running on AWS EC2/Lambda)
# Just set bucket and region, leave keys empty

# ============================================
# GOOGLE CLOUD STORAGE CONFIGURATION
# ============================================
# Set CLOUD_PROVIDER=gcp to use Google Cloud
# Cost: ~$0.020/GB/month + transfer fees

GCP_BUCKET=signaltrust-ai-backups
GCP_PROJECT_ID=your-project-id
# Path to service account JSON key file
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# Alternative: Use default credentials (gcloud auth)
# Leave GOOGLE_APPLICATION_CREDENTIALS empty

# ============================================
# AZURE BLOB STORAGE CONFIGURATION
# ============================================
# Set CLOUD_PROVIDER=azure to use Azure
# Cost: ~$0.018/GB/month + transfer fees

AZURE_CONTAINER=signaltrust-ai-backups
# Option 1: Connection string (easier)
AZURE_STORAGE_CONNECTION_STRING=your_connection_string_here

# Option 2: Account name + key
AZURE_STORAGE_ACCOUNT=your_account_name
AZURE_STORAGE_KEY=your_account_key

# ============================================
# COST ESTIMATES (Monthly for ~5GB data)
# ============================================
# AWS S3 Standard:      ~$0.12/month
# GCP Standard:         ~$0.10/month  
# Azure Hot:            ~$0.09/month
# Local only:           FREE (but no off-site backup)

# ============================================
# RECOMMENDED SETUP
# ============================================
# 1. For production: Use cloud provider (AWS/GCP/Azure)
# 2. Enable compression (reduces costs by 70-80%)
# 3. Set auto_sync to true
# 4. Sync every 1-6 hours based on data change frequency

# ============================================
# SECURITY BEST PRACTICES
# ============================================
# - Never commit .env file with real credentials
# - Use IAM roles when possible (AWS/GCP)
# - Rotate access keys regularly
# - Enable encryption at rest on cloud provider
# - Use bucket/container policies to restrict access

# ============================================
# PERFORMANCE & OPTIMIZATION
# ============================================

# Caching Configuration
CACHE_TYPE=SimpleCache  # Options: SimpleCache, RedisCache, MemcachedCache
CACHE_DEFAULT_TIMEOUT=300  # Cache timeout in seconds (5 minutes)
CACHE_THRESHOLD=500  # Maximum number of items in cache
CACHE_KEY_PREFIX=signaltrust_  # Prefix for cache keys

# Redis Configuration (if CACHE_TYPE=RedisCache)
REDIS_URL=redis://localhost:6379/0  # Set by Render Redis addon automatically
REDIS_PASSWORD=  # Optional Redis password
REDIS_DB=0  # Redis database number
REDIS_MAX_CONNECTIONS=50  # Maximum connection pool size

# Request Rate Limiting
RATE_LIMIT_ENABLED=true  # Enable rate limiting
RATE_LIMIT_STORAGE_URL=  # Redis URL for rate limiting (optional)

# Background Task Queue (Optional - for async processing)
CELERY_BROKER_URL=redis://localhost:6379/1  # For async tasks
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# Compression Settings (already enabled via Flask-Compress)
COMPRESS_LEVEL=6  # 1-9, higher = better compression but slower
COMPRESS_MIN_SIZE=500  # Only compress responses larger than 500 bytes

# ============================================
# MONITORING & LOGGING
# ============================================

# Logging Configuration
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=structured  # Options: structured, simple
LOG_TO_FILE=true
LOG_TO_CONSOLE=true

# Sentry Error Tracking (Optional but recommended for production)
SENTRY_DSN=  # Your Sentry DSN from https://sentry.io
SENTRY_ENVIRONMENT=production  # development, staging, production
SENTRY_TRACES_SAMPLE_RATE=0.1  # 10% of transactions

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DETAILED=false  # Include detailed system info in health check

# ============================================
# SECURITY ENHANCEMENTS
# ============================================

# CORS Configuration
CORS_ORIGINS=*  # Allowed origins (* for all, or comma-separated list)
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Content-Type,Authorization
CORS_MAX_AGE=3600

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_ENABLED=true  # HTTP Strict Transport Security
HSTS_MAX_AGE=31536000  # 1 year
CONTENT_SECURITY_POLICY=default-src 'self'

# API Security
API_KEY_REQUIRED=false  # Require API key for API access
API_KEY_HEADER=X-API-Key
API_KEYS=  # Comma-separated list of valid API keys

# Session Security
SESSION_COOKIE_SECURE=true  # Require HTTPS for cookies
SESSION_COOKIE_HTTPONLY=true  # Prevent JavaScript access to cookies
SESSION_COOKIE_SAMESITE=Lax  # CSRF protection

# ============================================
# FEATURE FLAGS
# ============================================

# Enable/Disable Features
FEATURE_WHALE_WATCHER=true
FEATURE_GEM_FINDER=true
FEATURE_AI_CHAT=true
FEATURE_TRADINGVIEW=true
FEATURE_NOTIFICATIONS=true
FEATURE_CLOUD_BACKUP=true
FEATURE_MULTI_AGENT=true
FEATURE_AI_EVOLUTION=true

# Beta Features (experimental)
FEATURE_BETA_PORTFOLIO_OPTIMIZER=false
FEATURE_BETA_SOCIAL_TRADING=false
FEATURE_BETA_VOICE_ASSISTANT=false

# ============================================
# BUSINESS LOGIC
# ============================================

# Subscription Plans Limits
FREE_PLAN_DAILY_SCANS=10
FREE_PLAN_AI_REQUESTS=5
BASIC_PLAN_DAILY_SCANS=100
BASIC_PLAN_AI_REQUESTS=50
PRO_PLAN_DAILY_SCANS=unlimited
PRO_PLAN_AI_REQUESTS=unlimited

# Market Data Refresh Rates (seconds)
MARKET_DATA_REFRESH_INTERVAL=60  # 1 minute
CRYPTO_PRICE_REFRESH=30  # 30 seconds
STOCK_PRICE_REFRESH=60  # 1 minute
NEWS_REFRESH=300  # 5 minutes

# AI Analysis Settings
AI_ANALYSIS_MIN_CONFIDENCE=0.7  # Minimum confidence threshold
AI_PREDICTION_HORIZON=7  # Days to predict ahead
AI_RISK_TOLERANCE=medium  # low, medium, high

# ============================================
# THIRD-PARTY INTEGRATIONS
# ============================================

# TradingView Integration
TRADINGVIEW_ENABLED=true
TRADINGVIEW_WIDGET_COPYRIGHT=true

# Social Media Integration (Optional)
TWITTER_API_KEY=
TWITTER_API_SECRET=
DISCORD_WEBHOOK_URL=
TELEGRAM_BOT_TOKEN=

# Email Service (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=
SMTP_PASSWORD=
EMAIL_FROM=noreply@signaltrust.ai

# SMS Service (Optional - for alerts)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ============================================
# DEVELOPMENT & DEBUG
# ============================================

# Development Mode
DEBUG=false  # NEVER set to true in production!
TESTING=false
DEVELOPMENT_MODE=false

# Debug Options
DEBUG_SQL=false  # Log all SQL queries
DEBUG_TOOLBAR=false  # Enable Flask debug toolbar
PROFILING_ENABLED=false  # Enable code profiling

# Hot Reload
FLASK_ENV=production  # development or production
FLASK_DEBUG=false

# ============================================
# ADVANCED CONFIGURATION
# ============================================

# Worker Configuration (for Gunicorn)
WORKERS=3  # Number of worker processes
WORKER_CLASS=gthread  # sync, gevent, gthread
THREADS=2  # Threads per worker
WORKER_TIMEOUT=60  # Worker timeout in seconds
MAX_REQUESTS=1000  # Restart worker after N requests
MAX_REQUESTS_JITTER=100  # Add randomness to max_requests

# Connection Limits
MAX_CONNECTIONS=100  # Maximum concurrent connections
CONNECTION_TIMEOUT=30  # Connection timeout in seconds
KEEPALIVE=5  # Keep-alive timeout

# Timezone
TIMEZONE=UTC  # Application timezone
USE_TZ=true  # Use timezone-aware datetimes

# Locale
DEFAULT_LANGUAGE=en  # Default language (en, fr, es, etc.)
SUPPORTED_LANGUAGES=en,fr  # Comma-separated list

# ============================================
# RENDER.COM SPECIFIC (Auto-configured)
# ============================================

# These are automatically set by Render
# PORT=  # Automatically set by Render
# RENDER=true  # Automatically set by Render
# RENDER_SERVICE_NAME=  # Your service name
# RENDER_EXTERNAL_URL=  # Your app URL

# ============================================
# NOTES & BEST PRACTICES
# ============================================

# 1. Never commit this file with real secrets to git
# 2. Use Render Dashboard to set production secrets
# 3. Keep development and production configs separate
# 4. Rotate API keys regularly
# 5. Enable monitoring in production
# 6. Set up automated backups
# 7. Use HTTPS only in production
# 8. Enable rate limiting to prevent abuse
# 9. Monitor costs for AI API usage
# 10. Test configuration changes in staging first

# ============================================
# SECURITY CHECKLIST
# ============================================

# Before deploying to production:
# [ ] All API keys are set as environment variables
# [ ] DEBUG is set to false
# [ ] HTTPS/SSL is enabled
# [ ] CORS is properly configured
# [ ] Rate limiting is enabled
# [ ] Logging is configured
# [ ] Monitoring is set up
# [ ] Backups are automated
# [ ] Security headers are enabled
# [ ] Session cookies are secure
# [ ] Database credentials are secure

